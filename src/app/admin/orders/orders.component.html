<!-- <div class="form-container" style="padding: 20px;">
    <h2>{{ isEdit ? 'Update Order' : 'Create Order' }}</h2>
    
    <form [formGroup]="orderForm" (ngSubmit)="onSubmit()">
        <div>
            <label for="guestId">Guest ID:</label>
            <input id="guestId" formControlName="guestId" type="number" required />
        </div>
        <div>
            <label for="outletid">Outlet ID:</label>
            <input id="outletid" formControlName="outletid" type="number" required />
        </div>
  
      <div class="form-group">
        <label for="orderDate">Order Date</label>
        <input matInput type="date" formControlName="order_date" />
      </div>
  
      <div class="form-group">
        <label for="orderStatus">Order Status</label>
        <select formControlName="order_status" placeholder="Select Status">
          <option value="Pending">Pending</option>
          <option value="In Progress">In Progress</option>
          <option value="Delivered">Delivered</option>
          <option value="Completed">Completed</option>
        </select>
      </div>
  
      <div class="form-group">
        <label for="totalAmount">Total Amount</label>
        <input matInput type="number" formControlName="total_amount" placeholder="Enter total amount" />
      </div>
  
      <div class="form-group">
        <mat-checkbox formControlName="is_room_service">Is Room Service?</mat-checkbox>
      </div>

      <div class="form-group">
        <label for="menuItems">Select Menu Items</label>
        <ng-multiselect-dropdown
          [placeholder]="'Select Menu Items'"
          [data]="dropdownList"
          [settings]="dropdownSettings"
          (onSelect)="onItemSelect($event)"
          (onDeSelect)="onItemDeselect($event)"
          (onSelectAll)="onSelectAll($event)"
          (onDeSelectAll)="onDeselectAll()"
          formControlName="selectedMenuItems"
        ></ng-multiselect-dropdown>
      </div>
  
      <button mat-raised-button type="submit" color="primary">{{ isEdit ? 'Update Order' : 'Create Order' }}</button>
    </form>
  </div>
   -->

   <div class="container">
    <h2>Create New Order</h2>
    <form [formGroup]="orderForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="guest">Guest:</label>
        <select formControlName="guestId" class="form-control">
          <option *ngFor="let guest of guests" [value]="guest.guestId">
            {{ guest.firstName }}
          </option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="outlet">Outlet:</label>
        <select formControlName="outletid" class="form-control">
          <option *ngFor="let outlet of outlets" [value]="outlet.outletid">
            {{ outlet.name }}
          </option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="isRoomService">Is Room Service:</label>
        <input type="checkbox" formControlName="is_room_service" class="form-check-input">
      </div>
      
      <div class="form-group" *ngIf="this.isEdit && this.data.isBillsettled">
        <label for="orderStatus">Order Status:</label>
        <select formControlName="order_status" class="form-control">
          <!-- <option value="Pending">Pending</option> -->
          <option value="In Progress">In Progress</option>
          <option value="Delivered">Delivered</option>
          <option value="Completed">Completed</option>
        </select>
      </div>

      <div class="form-group" *ngIf="this.isEdit && !this.data.isBillsettled">
        <label for="orderStatus">Order Status:</label>
        <select formControlName="order_status" class="form-control">
          <option value="Pending">Pending</option>
        </select>
      </div>

      <div class="form-group" *ngIf="!this.isEdit">
        <label for="orderStatus">Order Status:</label>
        <select formControlName="order_status" class="form-control">
          <option value="Pending">Pending</option>
        </select>
      </div>
      
      <h3>Order Items</h3>
      <div formArrayName="orderItems">
        <div *ngFor="let item of orderItems.controls; let i = index" [formGroupName]="i" class="order-item">
          <div class="form-group">
            <label>Menu Item:</label>
            <select formControlName="menu_item_id" class="form-control" (change)="updatePrice(i)">
              <option *ngFor="let item of menuItems" [value]="item.menu_item_id">
                {{ item.item_name }} - ${{ item.price }}
              </option>
            </select>
          </div>
          <div class="form-group">
            <label>Quantity:</label>
            <input type="number" formControlName="quantity" class="form-control" min="1" (change)="updatePrice(i)">
          </div>
          <div class="form-group">
            <label>Price:</label>
            <input type="number" formControlName="price" class="form-control" readonly>
          </div>
          <button type="button" class="btn btn-danger" (click)="removeOrderItem(i)">Remove</button>
        </div>
      </div>
      
      <button type="button" class="btn btn-secondary" (click)="addOrderItem()">Add Item</button>
      
      <div class="form-group">
        <label>Total Amount:</label>
        <input type="number" formControlName="total_amount" class="form-control" readonly>
      </div>
      
      <button *ngIf="this.data.isBillsettled" type="submit" class="btn btn-primary" [disabled]="!orderForm.valid">Submit Order</button>
      <div *ngIf="!this.data.isBillsettled"> Make Payment First</div>
    </form>
  </div>